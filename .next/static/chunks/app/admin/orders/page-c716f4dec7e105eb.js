(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[606],{9855:function(e,s,n){Promise.resolve().then(n.bind(n,6667))},6667:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return c}});var a=n(7437),i=n(2265);let t="http://Noel-ALB-780957247.ap-south-1.elb.amazonaws.com/api";function c(){let[e,s]=(0,i.useState)([]);async function n(){let e=await fetch("".concat(t,"/admin/orders"),{credentials:"include"});s((await e.json()).orders||[])}async function c(e,s){(await fetch("".concat(t,"/admin/orders/").concat(e,"/status"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:s})})).ok?n():alert("Failed")}return(0,i.useEffect)(()=>{n()},[]),(0,a.jsxs)("section",{className:"container",children:[(0,a.jsx)("div",{className:"topbar",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"badge",children:"Admin"}),(0,a.jsx)("h2",{children:"Orders"})]})}),(0,a.jsx)("div",{children:e.map(e=>(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)("div",{className:"pad",children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("b",{children:["Order #",e.id]}),(0,a.jsxs)("div",{className:"sub",children:[new Date(e.createdAt).toLocaleString()," â€¢ ",e.user.name," (",e.user.email,")"]})]}),(0,a.jsx)("div",{children:(0,a.jsx)("span",{className:"badge",style:{textTransform:"capitalize"},children:e.status})})]}),(0,a.jsxs)("div",{className:"actions",style:{marginTop:8,gap:8,display:"flex"},children:[(0,a.jsx)("button",{className:"btn ghost",onClick:()=>c(e.id,"paid"),children:"Mark Paid"}),(0,a.jsx)("button",{className:"btn ghost",onClick:()=>c(e.id,"shipped"),children:"Mark Shipped"}),(0,a.jsx)("button",{className:"btn",onClick:()=>c(e.id,"delivered"),children:"Mark Delivered"})]})]})},e.id))})]})}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=9855)}),_N_E=e.O()}]);