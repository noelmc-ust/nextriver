(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[122],{2456:function(e,s,a){Promise.resolve().then(a.bind(a,974))},974:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return t}});var i=a(7437),n=a(2265);let c="http://Noel-ALB-780957247.ap-south-1.elb.amazonaws.com/api";function t(){let[e,s]=(0,n.useState)([]),[a,t]=(0,n.useState)({name:"",priceCents:0,imageUrl:"",description:"",stock:100,sku:"",active:!0});async function l(){let e=await fetch("".concat(c,"/admin/products"),{credentials:"include"});s((await e.json()).products||[])}async function d(){(await fetch("".concat(c,"/admin/products"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok?(t({name:"",priceCents:0,imageUrl:"",description:"",stock:100,sku:"",active:!0}),l()):alert("Create failed")}async function r(e){(await fetch("".concat(c,"/admin/products/").concat(e.id),{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok&&l()}async function o(e){confirm("Delete?")&&(await fetch("".concat(c,"/admin/products/").concat(e),{method:"DELETE",credentials:"include"})).ok&&l()}return(0,n.useEffect)(()=>{l()},[]),(0,i.jsxs)("section",{className:"container",children:[(0,i.jsx)("div",{className:"topbar",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"badge",children:"Admin"}),(0,i.jsx)("h2",{children:"Products"})]})}),(0,i.jsxs)("div",{className:"form",children:[(0,i.jsxs)("div",{className:"field",children:[(0,i.jsx)("label",{children:"Name"}),(0,i.jsx)("input",{className:"input",value:a.name,onChange:e=>t({...a,name:e.target.value})})]}),(0,i.jsxs)("div",{className:"field",children:[(0,i.jsx)("label",{children:"Price (cents)"}),(0,i.jsx)("input",{className:"input",type:"number",value:a.priceCents,onChange:e=>t({...a,priceCents:Number(e.target.value)})})]}),(0,i.jsxs)("div",{className:"field",children:[(0,i.jsx)("label",{children:"Image URL"}),(0,i.jsx)("input",{className:"input",value:a.imageUrl,onChange:e=>t({...a,imageUrl:e.target.value})})]}),(0,i.jsxs)("div",{className:"field",children:[(0,i.jsx)("label",{children:"Description"}),(0,i.jsx)("input",{className:"input",value:a.description,onChange:e=>t({...a,description:e.target.value})})]}),(0,i.jsxs)("div",{className:"field",children:[(0,i.jsx)("label",{children:"Stock"}),(0,i.jsx)("input",{className:"input",type:"number",value:a.stock,onChange:e=>t({...a,stock:Number(e.target.value)})})]}),(0,i.jsxs)("div",{className:"field",children:[(0,i.jsx)("label",{children:"SKU"}),(0,i.jsx)("input",{className:"input",value:a.sku,onChange:e=>t({...a,sku:e.target.value})})]}),(0,i.jsxs)("div",{className:"field",children:[(0,i.jsx)("label",{children:"Active"}),(0,i.jsx)("input",{type:"checkbox",checked:!!a.active,onChange:e=>t({...a,active:e.target.checked})})]}),(0,i.jsx)("div",{className:"actions",children:(0,i.jsx)("button",{className:"btn",onClick:d,children:"Create"})})]}),(0,i.jsx)("div",{className:"section",children:e.map(e=>(0,i.jsx)("div",{className:"card",children:(0,i.jsxs)("div",{className:"pad",children:[(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:12},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("b",{children:e.name}),(0,i.jsxs)("div",{className:"sub",children:["ID ",e.id," • ₹",(e.priceCents/100).toFixed(2)]})]}),(0,i.jsxs)("div",{children:["Stock: ",(0,i.jsx)("input",{className:"input",type:"number",defaultValue:e.stock,onBlur:s=>r({id:e.id,stock:Number(s.target.value)})})]}),(0,i.jsxs)("div",{children:["Active: ",(0,i.jsx)("input",{type:"checkbox",defaultChecked:e.active,onChange:s=>r({id:e.id,active:s.target.checked})})]})]}),(0,i.jsx)("div",{className:"actions",style:{marginTop:8},children:(0,i.jsx)("button",{className:"btn ghost",onClick:()=>o(e.id),children:"Delete"})})]})},e.id))})]})}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=2456)}),_N_E=e.O()}]);