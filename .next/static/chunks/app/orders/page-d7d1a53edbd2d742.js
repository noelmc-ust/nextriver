(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[569],{681:function(e,s,t){Promise.resolve().then(t.bind(t,5252))},5252:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return c}});var n=t(7437),i=t(2265);let a="http://Noel-ALB-780957247.ap-south-1.elb.amazonaws.com/api";function c(){let[e,s]=(0,i.useState)([]);return(0,i.useEffect)(()=>{fetch("".concat(a,"/orders"),{credentials:"include"}).then(e=>e.json()).then(e=>s(e.orders||[]))},[]),(0,n.jsxs)("section",{className:"container",children:[(0,n.jsx)("div",{className:"topbar",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"badge",children:"Order History"}),(0,n.jsx)("h2",{children:"Your Orders"})]})}),(0,n.jsx)("div",{children:0===e.length?(0,n.jsx)("div",{className:"cart-panel",children:"You have not placed any orders yet."}):e.map(e=>(0,n.jsxs)("div",{className:"cart-panel",style:{marginBottom:"1rem"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:".5rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{fontWeight:700},children:["Order #",String(e.id).slice(0,8)]}),(0,n.jsxs)("div",{className:"sub",children:["Placed on ",new Date(e.created_at).toLocaleString()]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"badge",style:{marginRight:8,textTransform:"capitalize"},children:e.status}),(0,n.jsxs)("span",{className:"price",style:{fontSize:"1.1rem"},children:["₹",(e.total_cents/100).toFixed(2)]})]})]}),(0,n.jsxs)("div",{children:[e.applied_code?(0,n.jsxs)("div",{className:"sub",style:{marginBottom:".25rem"},children:["Promo: ",e.applied_code," (−₹",(e.applied_discount_cents/100).toFixed(2),")"]}):null,e.line_items.map((e,s)=>(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("div",{children:[e.name," \xd7 ",e.qty]}),(0,n.jsxs)("div",{children:["₹",(e.subtotal_cents/100).toFixed(2)]})]},s)),(0,n.jsxs)("div",{className:"total",children:["Total: ₹",(e.total_cents/100).toFixed(2)]})]}),(0,n.jsx)("div",{className:"actions",style:{marginTop:".5rem"},children:(0,n.jsx)("a",{className:"btn ghost",href:"".concat(a,"/orders/").concat(e.id,"/invoice"),target:"_blank",rel:"noopener",children:"Download Invoice (PDF)"})})]},e.id))})]})}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=681)}),_N_E=e.O()}]);