(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[899],{4379:function(e,s,a){Promise.resolve().then(a.bind(a,3570))},3570:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return l}});var n=a(7437),t=a(2265);let i="http://Noel-ALB-780957247.ap-south-1.elb.amazonaws.com/api";function l(){let[e,s]=(0,t.useState)([]),[a,l]=(0,t.useState)({fullName:"",line1:"",line2:"",city:"",state:"",postalCode:"",country:"IN",phone:"",isDefault:!1});async function c(){let e=await fetch("".concat(i,"/addresses"),{credentials:"include"});s((await e.json()).addresses||[])}async function d(){(await fetch("".concat(i,"/addresses/add"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok?(l({fullName:"",line1:"",line2:"",city:"",state:"",postalCode:"",country:"IN",phone:"",isDefault:!1}),c()):alert("Add failed")}async function o(e){confirm("Delete?")&&(await fetch("".concat(i,"/addresses/delete"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})})).ok&&c()}async function r(e){await fetch("".concat(i,"/addresses/update"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,isDefault:!0})}),c()}return(0,t.useEffect)(()=>{c()},[]),(0,n.jsxs)("section",{className:"container",children:[(0,n.jsx)("div",{className:"topbar",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"badge",children:"Account"}),(0,n.jsx)("h2",{children:"Addresses"})]})}),(0,n.jsxs)("div",{className:"form",children:[["fullName","line1","line2","city","state","postalCode","country","phone"].map(e=>(0,n.jsxs)("div",{className:"field",children:[(0,n.jsx)("label",{children:e}),(0,n.jsx)("input",{className:"input",value:a[e]||"",onChange:s=>l({...a,[e]:s.target.value})})]},e)),(0,n.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,n.jsx)("input",{type:"checkbox",checked:a.isDefault,onChange:e=>l({...a,isDefault:e.target.checked})})," Set as default"]}),(0,n.jsx)("div",{className:"actions",children:(0,n.jsx)("button",{className:"btn",onClick:d,children:"Add Address"})})]}),(0,n.jsx)("div",{className:"section",children:e.map(e=>(0,n.jsx)("div",{className:"card",children:(0,n.jsxs)("div",{className:"pad",style:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("b",{children:e.fullName})," ",e.isDefault?(0,n.jsx)("span",{className:"badge",children:"Default"}):null,(0,n.jsxs)("div",{className:"sub",children:[e.line1,e.line2?", ".concat(e.line2):"",", ",e.city,", ",e.state," ",e.postalCode,", ",e.country]}),(0,n.jsxs)("div",{className:"sub",children:["Ph: ",e.phone]})]}),(0,n.jsxs)("div",{className:"actions",children:[!e.isDefault&&(0,n.jsx)("button",{className:"btn ghost",onClick:()=>r(e.id),children:"Make Default"}),(0,n.jsx)("button",{className:"btn ghost",onClick:()=>o(e.id),children:"Delete"})]})]})},e.id))})]})}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=4379)}),_N_E=e.O()}]);